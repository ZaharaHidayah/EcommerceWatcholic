<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watcholic - Luxury Watch Store</title>
    
    <!-- 1. Tailwind CSS (Desain) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM (Core Website) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 3. Babel (Agar browser mengerti kode React) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Markdown Parser (Untuk format teks AI) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Font & Animasi Tambahan -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        
        @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fade-in 0.3s ease-out; }
        
        @keyframes slide-in { from { transform: translateX(100%); } to { transform: translateX(0); } }
        .animate-slide-in { animation: slide-in 0.3s ease-out; }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 10px #f59e0b, 0 0 20px #f59e0b; }
            50% { box-shadow: 0 0 20px #d97706, 0 0 30px #d97706; }
        }
        .ai-glow { animation: pulse-glow 2s infinite; }
        
        /* Markdown Styles for AI Response */
        .prose p { margin-bottom: 0.5em; }
        .prose strong { color: #d97706; font-weight: 600; }
        .prose ul { list-style-type: disc; padding-left: 1.5em; margin-bottom: 0.5em; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <!-- SCRIPT UTAMA WEBSITE -->
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- 1. KOMPONEN ICON (Pengganti Lucide React) ---
        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            Watch: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="7"/><polyline points="12 9 12 12 13.5 13.5"/><path d="M16.51 17.35l-.35 3.83a2 2 0 0 1-2 1.82H9.83a2 2 0 0 1-2-1.82l-.35-3.83m.01-10.7l.35-3.83A2 2 0 0 1 9.83 1h4.35a2 2 0 0 1 2 1.82l.35 3.83"/></>} />,
            ShoppingBag: (props) => <Icon {...props} path={<><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></>} />,
            Menu: (props) => <Icon {...props} path={<><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></>} />,
            X: (props) => <Icon {...props} path={<><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></>} />,
            Trash2: (props) => <Icon {...props} path={<><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></>} />,
            Star: (props) => <svg xmlns="http://www.w3.org/2000/svg" className={props.className} viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            CheckCircle: (props) => <Icon {...props} path={<><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></>} />,
            Facebook: (props) => <Icon {...props} path={<path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>} />,
            Instagram: (props) => <Icon {...props} path={<><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></>} />,
            Twitter: (props) => <Icon {...props} path={<path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>} />,
            Phone: (props) => <Icon {...props} path={<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>} />,
            User: (props) => <Icon {...props} path={<><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></>} />,
            Sparkles: (props) => <Icon {...props} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M3 5h4"/><path d="M3 9h4"/></>} />,
            Send: (props) => <Icon {...props} path={<><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></>} />,
            Bot: (props) => <Icon {...props} path={<><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/></>} />
        };

        // --- 2. LAYANAN AI (Gemini) ---
        const generateAIResponse = async (query, products) => {
            // =========================================================================================
            // PENTING UNTUK PENGGUNA VS CODE / LOCALHOST:
            
            
            const apiKey = "AIzaSyA4LBpf0zjUrxALB1sQBr3KwGufTeWwJJ4"; // <--- PASTE API KEY ANDA DI SINI UNTUK VS CODE

            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

            const systemPrompt = `
            Anda adalah "Watcholic Assistant", seorang konsultan jam tangan mewah yang elegan, ramah, dan sangat membantu.
            
            Tugas Anda:
            1. Analisis pertanyaan pelanggan: "${query}"
            2. Lihat daftar produk berikut dan pilih yang paling relevan: ${JSON.stringify(products.map(p => ({id: p.id, name: p.name, price: p.price, category: p.category, desc: p.description})))}
            3. Berikan rekomendasi produk (1-3 jam tangan) dengan format yang rapi.
            4. Gunakan bahasa Indonesia yang sopan dan gaya bicara "luxury sales assistant".
            5. Jelaskan MENGAPA jam tangan tersebut cocok dengan kebutuhan mereka.
            6. Jika tidak ada yang pas, sarankan alternatif terbaik dari katalog.
            7. Jangan berhalusinasi tentang produk yang tidak ada di daftar.
            
            Format Output: Gunakan Markdown. Bold nama produk. Sebutkan harga dalam format Rupiah.
            `;

            try {
                // Cek apakah user sudah mengisi API Key jika running local
                if (!apiKey && window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1' && !apiKey) {
                   // Logic dummy untuk preview tanpa key
                }

                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: systemPrompt }] }]
                    })
                });

                if (!response.ok) throw new Error("Gagal menghubungi AI. Pastikan API Key valid.");

                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (error) {
                console.error(error);
                return `Maaf, terjadi kesalahan koneksi atau API Key belum diatur. \n\n**Untuk pengguna VS Code:** Pastikan Anda sudah mengisi 'const apiKey' di dalam kode dengan API Key Gemini Anda.`;
            }
        };

        // --- 3. LOGIC UTAMA APLIKASI ---
        const WatcholicApp = () => {
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [cart, setCart] = useState([]);
            const [categoryFilter, setCategoryFilter] = useState('All');
            const [showCheckoutSuccess, setShowCheckoutSuccess] = useState(false);
            const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
            
            // AI States
            const [isAIModalOpen, setIsAIModalOpen] = useState(false);
            const [aiQuery, setAiQuery] = useState("");
            // Ganti aiResponse tunggal dengan History Array
            const [chatHistory, setChatHistory] = useState([]); 
            const [isAILoading, setIsAILoading] = useState(false);
            const chatEndRef = useRef(null);

            // Data Produk
            const products = [
                {
                    id: 1,
                    name: "Chronos Master",
                    price: 2500000,
                    category: "Classic",
                    rating: 4.8,
                    image: "https://images.unsplash.com/photo-1524592094714-0f0654e20314?auto=format&fit=crop&q=80&w=800",
                    description: "Desain klasik dengan strap kulit asli dan mekanik otomatis."
                },
                {
                    id: 2,
                    name: "Ocean Deep Diver",
                    price: 3800000,
                    category: "Sport",
                    rating: 4.9,
                    image: "https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&q=80&w=800",
                    description: "Tahan air hingga 200m, cocok untuk penyelam profesional."
                },
                {
                    id: 3,
                    name: "Gold Prestige",
                    price: 5200000,
                    category: "Luxury",
                    rating: 5.0,
                    image: "https://images.unsplash.com/photo-1622434641406-a158123450f9?auto=format&fit=crop&q=80&w=800",
                    description: "Lapisan emas 18k dengan detail berlian pada dial."
                },
                {
                    id: 4,
                    name: "Urban Minimalist",
                    price: 1200000,
                    category: "Casual",
                    rating: 4.5,
                    image: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=800",
                    description: "Simpel, elegan, dan cocok untuk penggunaan sehari-hari."
                },
                {
                    id: 5,
                    name: "Tech Runner V2",
                    price: 4500000,
                    category: "Sport",
                    rating: 4.7,
                    image: "https://images.unsplash.com/photo-1508685096489-7aacd43bd3b1?auto=format&fit=crop&q=80&w=800",
                    description: "Chronograph presisi tinggi dengan material karbon ringan."
                },
                {
                    id: 6,
                    name: "Vintage 1980",
                    price: 1850000,
                    category: "Classic",
                    rating: 4.6,
                    image: "https://images.unsplash.com/photo-1434056838489-293029c62b57?auto=format&fit=crop&q=80&w=800",
                    description: "Gaya retro yang tak lekang oleh waktu."
                }
            ];

            const handleImageError = (e) => {
                e.target.src = "https://images.unsplash.com/photo-1614164185128-e4ec99c436d7?auto=format&fit=crop&q=80&w=800";
                e.target.onerror = null;
            };

            const formatRupiah = (number) => {
                return new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0
                }).format(number);
            };

            const addToCart = (product) => {
                setCart(prev => {
                    const existing = prev.find(item => item.id === product.id);
                    if (existing) {
                        return prev.map(item => 
                            item.id === product.id ? { ...item, qty: item.qty + 1 } : item
                        );
                    }
                    return [...prev, { ...product, qty: 1 }];
                });
                setIsCartOpen(true);
            };

            const removeFromCart = (id) => {
                setCart(prev => prev.filter(item => item.id !== id));
            };

            const updateQty = (id, delta) => {
                setCart(prev => prev.map(item => {
                    if (item.id === id) {
                        const newQty = Math.max(1, item.qty + delta);
                        return { ...item, qty: newQty };
                    }
                    return item;
                }));
            };

            const cartTotal = cart.reduce((acc, item) => acc + (item.price * item.qty), 0);
            const cartCount = cart.reduce((acc, item) => acc + item.qty, 0);

            const filteredProducts = categoryFilter === 'All' 
                ? products 
                : products.filter(p => p.category === categoryFilter);

            const handleCheckout = () => {
                setIsCartOpen(false);
                setShowCheckoutSuccess(true);
                setCart([]);
                setTimeout(() => setShowCheckoutSuccess(false), 3000);
            };

            // AI Handlers
            const handleAskAI = async (e) => {
                e.preventDefault();
                if (!aiQuery.trim()) return;

                const userMessage = aiQuery;
                
                // 1. Langsung hapus teks di input
                setAiQuery(""); 
                
                // 2. Tambahkan pesan user ke history
                setChatHistory(prev => [...prev, { type: 'user', text: userMessage }]);
                
                setIsAILoading(true);
                
                // Scroll ke bawah
                setTimeout(() => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }), 100);

                // Call API
                const response = await generateAIResponse(userMessage, products);
                
                // 3. Tambahkan balasan AI ke history
                setChatHistory(prev => [...prev, { type: 'ai', text: response }]);
                setIsAILoading(false);

                // Scroll ke bawah lagi setelah balasan muncul
                setTimeout(() => chatEndRef.current?.scrollIntoView({ behavior: 'smooth' }), 100);
            };

            // Quick Prompt Handler
            const handleQuickPrompt = (prompt) => {
                setAiQuery(prompt);
                // Opsional: Langsung kirim atau biarkan user edit dulu? 
                // Di sini saya biarkan user edit/klik kirim, tapi kalau mau langsung kirim bisa panggil logic submit.
            };

            return (
                <div className="min-h-screen flex flex-col relative">
                    {/* Navbar */}
                    <nav className="sticky top-0 z-50 bg-white shadow-md border-b border-slate-100">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center h-20">
                                {/* Logo */}
                                <div className="flex items-center cursor-pointer" onClick={() => window.scrollTo(0,0)}>
                                    <Icons.Watch className="h-8 w-8 text-amber-600 mr-2" />
                                    <span className="text-2xl font-bold tracking-tighter text-slate-900">
                                        WATCH<span className="text-amber-600">OLIC</span>
                                    </span>
                                </div>

                                {/* Desktop Menu */}
                                <div className="hidden md:flex space-x-8 items-center">
                                    <a href="#" className="text-slate-600 hover:text-amber-600 font-medium transition">Home</a>
                                    <a href="#collection" className="text-slate-600 hover:text-amber-600 font-medium transition">Koleksi</a>
                                    <a href="#about" className="text-slate-600 hover:text-amber-600 font-medium transition">Tentang</a>
                                    
                                    {/* AI Button in Navbar */}
                                    <button 
                                        onClick={() => setIsAIModalOpen(true)}
                                        className="flex items-center space-x-1 px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-full font-medium hover:from-amber-600 hover:to-amber-700 transition shadow-md ai-glow"
                                    >
                                        <Icons.Sparkles className="h-4 w-4" />
                                        <span>Tanya AI</span>
                                    </button>
                                </div>

                                {/* Icons */}
                                <div className="flex items-center space-x-4">
                                    <button 
                                        onClick={() => setIsCartOpen(true)}
                                        className="relative p-2 text-slate-600 hover:text-amber-600 transition"
                                    >
                                        <Icons.ShoppingBag className="h-6 w-6" />
                                        {cartCount > 0 && (
                                            <span className="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-amber-600 rounded-full">
                                                {cartCount}
                                            </span>
                                        )}
                                    </button>
                                    <button className="md:hidden p-2 text-slate-600" onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}>
                                        <Icons.Menu className="h-6 w-6" />
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        {/* Mobile Menu */}
                        {isMobileMenuOpen && (
                            <div className="md:hidden bg-white border-t border-slate-100 p-4 space-y-2">
                                <a href="#" className="block py-2 text-slate-600 font-medium">Home</a>
                                <a href="#collection" className="block py-2 text-slate-600 font-medium">Koleksi</a>
                                <a href="#about" className="block py-2 text-slate-600 font-medium">Tentang</a>
                                <button 
                                    onClick={() => { setIsAIModalOpen(true); setIsMobileMenuOpen(false); }}
                                    className="w-full mt-2 flex items-center justify-center space-x-2 px-4 py-3 bg-slate-900 text-white rounded-lg font-medium"
                                >
                                    <Icons.Sparkles className="h-4 w-4 text-amber-500" />
                                    <span>Konsultasi AI</span>
                                </button>
                            </div>
                        )}
                    </nav>

                    {/* AI MODAL */}
                    {isAIModalOpen && (
                        <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 animate-fade-in">
                            <div className="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onClick={() => setIsAIModalOpen(false)}></div>
                            <div className="bg-white rounded-2xl shadow-2xl w-full max-w-lg relative z-10 flex flex-col max-h-[80vh] overflow-hidden">
                                {/* Header Modal */}
                                <div className="bg-slate-900 p-4 flex justify-between items-center text-white">
                                    <div className="flex items-center space-x-2">
                                        <div className="p-2 bg-amber-500 rounded-full">
                                            <Icons.Bot className="h-5 w-5 text-white" />
                                        </div>
                                        <div>
                                            <h3 className="font-bold text-lg leading-tight">Konsultan Cerdas</h3>
                                            <p className="text-xs text-slate-400">Powered by Gemini AI ‚ú®</p>
                                        </div>
                                    </div>
                                    <button onClick={() => setIsAIModalOpen(false)} className="text-slate-400 hover:text-white">
                                        <Icons.X className="h-6 w-6" />
                                    </button>
                                </div>

                                {/* Body / Chat Area */}
                                <div className="flex-1 p-6 overflow-y-auto bg-slate-50">
                                    {/* Empty State / Welcome Message */}
                                    {chatHistory.length === 0 && (
                                        <div className="text-center py-8 text-slate-500">
                                            <Icons.Sparkles className="h-12 w-12 mx-auto text-amber-400 mb-4 opacity-70" />
                                            <p className="mb-2 font-medium text-slate-700">Selamat datang di Watcholic Assistant!</p>
                                            <p className="text-sm">Saya bisa membantu mencarikan jam tangan yang pas untuk Anda.</p>
                                            <div className="mt-6 flex flex-wrap gap-2 justify-center">
                                                <button onClick={() => handleQuickPrompt("Cari jam tangan sport di bawah 5 juta")} className="text-xs bg-white border border-slate-200 px-3 py-1.5 rounded-full hover:border-amber-500 hover:text-amber-600 transition">üîç Jam Sport under 5jt</button>
                                                <button onClick={() => handleQuickPrompt("Rekomendasi untuk kado ulang tahun")} className="text-xs bg-white border border-slate-200 px-3 py-1.5 rounded-full hover:border-amber-500 hover:text-amber-600 transition">üéÅ Kado Ulang Tahun</button>
                                                <button onClick={() => handleQuickPrompt("Jam tangan mewah untuk pesta")} className="text-xs bg-white border border-slate-200 px-3 py-1.5 rounded-full hover:border-amber-500 hover:text-amber-600 transition">ü•Ç Jam Pesta Mewah</button>
                                            </div>
                                        </div>
                                    )}

                                    {/* Chat History List */}
                                    {chatHistory.map((msg, index) => (
                                        <div key={index} className={`mb-4 flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}>
                                            {/* Avatar AI */}
                                            {msg.type === 'ai' && (
                                                <div className="h-8 w-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mr-2 mt-1">
                                                    <Icons.Bot className="h-5 w-5 text-amber-600" />
                                                </div>
                                            )}
                                            
                                            {/* Bubble Chat */}
                                            <div className={`max-w-[85%] rounded-2xl p-3 text-sm shadow-sm ${
                                                msg.type === 'user' 
                                                ? 'bg-slate-900 text-white rounded-br-none' 
                                                : 'bg-white border border-slate-100 text-slate-700 rounded-bl-none'
                                            }`}>
                                                {msg.type === 'user' 
                                                    ? msg.text 
                                                    : <div className="prose leading-relaxed text-sm" dangerouslySetInnerHTML={{ __html: marked.parse(msg.text) }}></div>
                                                }
                                            </div>
                                        </div>
                                    ))}

                                    {/* Loading State */}
                                    {isAILoading && (
                                        <div className="flex items-start space-x-2 animate-pulse mt-2">
                                            <div className="h-8 w-8 bg-amber-100 rounded-full flex items-center justify-center">
                                                <Icons.Bot className="h-5 w-5 text-amber-600" />
                                            </div>
                                            <div className="space-y-1 py-1">
                                                <div className="h-2 bg-slate-200 rounded w-16"></div>
                                                <div className="h-2 bg-slate-200 rounded w-10"></div>
                                            </div>
                                        </div>
                                    )}

                                    {/* Invisible div for auto-scrolling */}
                                    <div ref={chatEndRef}></div>
                                </div>

                                {/* Input Area */}
                                <form onSubmit={handleAskAI} className="p-4 bg-white border-t border-slate-100">
                                    <div className="flex space-x-2">
                                        <input 
                                            type="text" 
                                            value={aiQuery}
                                            onChange={(e) => setAiQuery(e.target.value)}
                                            placeholder="Tanya rekomendasi..." 
                                            className="flex-1 border border-slate-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-transparent text-sm"
                                        />
                                        <button 
                                            type="submit"
                                            disabled={isAILoading || !aiQuery.trim()}
                                            className="bg-slate-900 text-white p-2 rounded-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition"
                                        >
                                            <Icons.Send className="h-5 w-5" />
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* Hero Section */}
                    <div className="relative bg-slate-900 overflow-hidden">
                        <div className="absolute inset-0">
                            <img 
                                src="https://images.unsplash.com/photo-1614164185128-e4ec99c436d7?auto=format&fit=crop&q=80&w=1920" 
                                alt="Luxury Watch Background" 
                                className="w-full h-full object-cover opacity-40"
                            />
                            <div className="absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/80 to-transparent"></div>
                        </div>
                        <div className="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
                            <h1 className="text-4xl md:text-6xl font-extrabold text-white tracking-tight mb-4">
                                Waktu adalah <span className="text-amber-500">Kemewahan</span>
                            </h1>
                            <p className="mt-4 max-w-2xl text-xl text-slate-300 mb-8">
                                Temukan koleksi jam tangan eksklusif yang mendefinisikan gaya dan presisi. 
                                Untuk mereka yang menghargai setiap detik.
                            </p>
                            <div className="flex space-x-4">
                                <a href="#collection" className="inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-slate-900 bg-amber-500 hover:bg-amber-400 md:text-lg transition shadow-lg shadow-amber-500/30">
                                    Belanja Sekarang
                                </a>
                                <button onClick={() => setIsAIModalOpen(true)} className="inline-flex items-center px-6 py-3 border border-amber-500 text-base font-medium rounded-md text-amber-500 hover:bg-amber-500/10 md:text-lg transition">
                                    <Icons.Sparkles className="h-5 w-5 mr-2" />
                                    Cari via AI
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Main Content Area */}
                    <main id="collection" className="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 w-full">
                        
                        {/* Filters */}
                        <div className="flex flex-col md:flex-row justify-between items-center mb-10">
                            <h2 className="text-3xl font-bold text-slate-900 mb-4 md:mb-0">Koleksi Pilihan</h2>
                            <div className="flex space-x-2 overflow-x-auto pb-2 md:pb-0 w-full md:w-auto">
                                {['All', 'Classic', 'Sport', 'Luxury', 'Casual'].map((cat) => (
                                    <button
                                        key={cat}
                                        onClick={() => setCategoryFilter(cat)}
                                        className={`px-4 py-2 rounded-full text-sm font-medium transition whitespace-nowrap ${
                                            categoryFilter === cat 
                                                ? 'bg-slate-900 text-white shadow-md' 
                                                : 'bg-white text-slate-600 border border-slate-200 hover:bg-slate-50'
                                        }`}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Product Grid */}
                        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                            {filteredProducts.map((product) => (
                                <div key={product.id} className="bg-white rounded-xl shadow-sm hover:shadow-xl transition duration-300 overflow-hidden border border-slate-100 group">
                                    <div className="relative h-64 overflow-hidden bg-slate-100">
                                        <img 
                                            src={product.image} 
                                            alt={product.name} 
                                            onError={handleImageError}
                                            className="w-full h-full object-cover group-hover:scale-105 transition duration-500"
                                        />
                                        <button 
                                            onClick={() => addToCart(product)}
                                            className="absolute bottom-4 right-4 bg-white p-3 rounded-full shadow-lg text-slate-900 hover:text-amber-600 hover:bg-slate-50 transition transform translate-y-12 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 duration-300"
                                        >
                                            <Icons.ShoppingBag className="h-5 w-5" />
                                        </button>
                                    </div>
                                    <div className="p-6">
                                        <div className="flex justify-between items-start mb-2">
                                            <span className="text-xs font-semibold text-amber-600 uppercase tracking-wider bg-amber-50 px-2 py-1 rounded">
                                                {product.category}
                                            </span>
                                            <div className="flex items-center text-amber-400">
                                                <Icons.Star className="h-4 w-4 fill-current" />
                                                <span className="ml-1 text-sm text-slate-500 font-medium">{product.rating}</span>
                                            </div>
                                        </div>
                                        <h3 className="text-lg font-bold text-slate-900 mb-2">{product.name}</h3>
                                        <p className="text-sm text-slate-500 mb-4 line-clamp-2">{product.description}</p>
                                        <div className="flex justify-between items-center">
                                            <span className="text-xl font-bold text-slate-900">{formatRupiah(product.price)}</span>
                                            <button 
                                                onClick={() => addToCart(product)}
                                                className="text-sm font-medium text-amber-600 hover:text-amber-700 hover:underline"
                                            >
                                                Tambah +
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </main>

                    {/* ABOUT SECTION (BARU DITAMBAHKAN) */}
                    <section id="about" className="bg-white py-16 border-t border-slate-100">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="text-center mb-12">
                                <h2 className="text-3xl font-bold text-slate-900 mb-4">Tentang Watcholic</h2>
                                <div className="w-24 h-1 bg-amber-500 mx-auto rounded"></div>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                                <div className="order-2 md:order-1">
                                    <img 
                                        src="https://images.unsplash.com/photo-1509048191080-d2984bad6ae5?auto=format&fit=crop&q=80&w=800" 
                                        alt="About Watcholic" 
                                        onError={handleImageError}
                                        className="rounded-lg shadow-xl w-full h-80 object-cover"
                                    />
                                </div>
                                <div className="order-1 md:order-2">
                                    <h3 className="text-2xl font-bold text-slate-900 mb-4">Dedikasi untuk Kualitas</h3>
                                    <p className="text-slate-600 mb-6 leading-relaxed">
                                        Watcholic didirikan dengan satu tujuan sederhana: menghadirkan jam tangan berkualitas tinggi yang memadukan keindahan estetika dengan presisi teknik. Kami percaya bahwa jam tangan bukan sekadar penunjuk waktu, melainkan cerminan karakter dan gaya hidup pemakainya.
                                    </p>
                                    
                                    <div className="bg-slate-50 p-6 rounded-xl border border-slate-100">
                                        <h4 className="text-lg font-bold text-slate-900 mb-4 flex items-center">
                                            <Icons.CheckCircle className="h-5 w-5 text-amber-600 mr-2" />
                                            Layanan Pelanggan
                                        </h4>
                                        <p className="text-slate-600 mb-4 text-sm">
                                            Butuh bantuan memilih jam tangan atau ada kendala dengan pesanan? Hubungi Customer Service kami.
                                        </p>
                                        <div className="flex items-center space-x-4 bg-white p-4 rounded-lg border border-slate-100 shadow-sm">
                                            <div className="h-12 w-12 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0">
                                                <Icons.User className="h-6 w-6 text-amber-600" />
                                            </div>
                                            <div>
                                                <p className="text-xs text-slate-500 font-bold uppercase tracking-wider">Customer Service</p>
                                                <p className="text-lg font-bold text-slate-900">Zahara Nur Hidayah</p>
                                                <div className="flex items-center text-amber-600 mt-1">
                                                    <Icons.Phone className="h-3 w-3 mr-1" />
                                                    <span className="text-xs font-medium">Siap Membantu 24/7</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Cart Sidebar */}
                    {isCartOpen && (
                        <div className="fixed inset-0 z-50 overflow-hidden">
                            <div className="absolute inset-0 bg-slate-900/50 backdrop-blur-sm transition-opacity" onClick={() => setIsCartOpen(false)}></div>
                            <div className="fixed inset-y-0 right-0 max-w-md w-full flex">
                                <div className="w-full bg-white shadow-2xl flex flex-col h-full animate-slide-in">
                                    <div className="flex items-center justify-between px-6 py-4 border-b border-slate-100">
                                        <h2 className="text-lg font-bold text-slate-900">Keranjang Belanja ({cartCount})</h2>
                                        <button onClick={() => setIsCartOpen(false)} className="text-slate-400 hover:text-slate-600">
                                            <Icons.X className="h-6 w-6" />
                                        </button>
                                    </div>

                                    <div className="flex-1 overflow-y-auto p-6 space-y-6">
                                        {cart.length === 0 ? (
                                            <div className="flex flex-col items-center justify-center h-64 text-slate-400">
                                                <Icons.ShoppingBag className="h-16 w-16 mb-4 opacity-20" />
                                                <p>Keranjang Anda masih kosong.</p>
                                                <button 
                                                    onClick={() => setIsCartOpen(false)} 
                                                    className="mt-4 text-amber-600 font-medium hover:underline"
                                                >
                                                    Mulai Belanja
                                                </button>
                                            </div>
                                        ) : (
                                            cart.map((item) => (
                                                <div key={item.id} className="flex py-2">
                                                    <div className="h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-slate-200">
                                                        <img src={item.image} alt={item.name} onError={handleImageError} className="h-full w-full object-cover" />
                                                    </div>
                                                    <div className="ml-4 flex flex-1 flex-col">
                                                        <div className="flex justify-between text-base font-medium text-slate-900">
                                                            <h3>{item.name}</h3>
                                                            <p className="ml-4">{formatRupiah(item.price * item.qty)}</p>
                                                        </div>
                                                        <p className="mt-1 text-sm text-slate-500">{item.category}</p>
                                                        <div className="flex flex-1 items-end justify-between text-sm">
                                                            <div className="flex items-center border border-slate-300 rounded">
                                                                <button 
                                                                    onClick={() => updateQty(item.id, -1)}
                                                                    className="px-2 py-1 hover:bg-slate-100 disabled:opacity-50"
                                                                    disabled={item.qty <= 1}
                                                                >-</button>
                                                                <span className="px-2 py-1 border-x border-slate-300 min-w-[30px] text-center">{item.qty}</span>
                                                                <button 
                                                                    onClick={() => updateQty(item.id, 1)}
                                                                    className="px-2 py-1 hover:bg-slate-100"
                                                                >+</button>
                                                            </div>
                                                            <button 
                                                                type="button" 
                                                                onClick={() => removeFromCart(item.id)}
                                                                className="font-medium text-red-500 hover:text-red-700 flex items-center"
                                                            >
                                                                <Icons.Trash2 className="h-4 w-4 mr-1" /> Hapus
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>

                                    <div className="border-t border-slate-100 px-6 py-6 bg-slate-50">
                                        <div className="flex justify-between text-base font-medium text-slate-900 mb-4">
                                            <p>Total</p>
                                            <p className="text-xl text-amber-600 font-bold">{formatRupiah(cartTotal)}</p>
                                        </div>
                                        <button
                                            onClick={handleCheckout}
                                            disabled={cart.length === 0}
                                            className="w-full flex items-center justify-center rounded-md border border-transparent bg-slate-900 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-slate-800 disabled:bg-slate-300 disabled:cursor-not-allowed transition"
                                        >
                                            Checkout Sekarang
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Checkout Success Modal */}
                    {showCheckoutSuccess && (
                        <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 animate-fade-in">
                            <div className="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>
                            <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full relative z-10 text-center transform scale-100 transition">
                                <div className="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6">
                                    <Icons.CheckCircle className="h-8 w-8 text-green-600" />
                                </div>
                                <h3 className="text-2xl font-bold text-slate-900 mb-2">Terima Kasih!</h3>
                                <p className="text-slate-500 mb-6">Pesanan Anda telah diterima dan akan segera kami proses.</p>
                                <button 
                                    onClick={() => setShowCheckoutSuccess(false)}
                                    className="w-full inline-flex justify-center rounded-md border border-transparent bg-amber-500 px-4 py-2 text-base font-medium text-white hover:bg-amber-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500"
                                >
                                    Kembali Belanja
                                </button>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-slate-900 text-white border-t border-slate-800 mt-auto">
                        <div className="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                                <div className="col-span-1 md:col-span-1">
                                    <div className="flex items-center mb-4">
                                        <Icons.Watch className="h-6 w-6 text-amber-500 mr-2" />
                                        <span className="text-xl font-bold tracking-tighter">WATCHOLIC</span>
                                    </div>
                                    <p className="text-slate-400 text-sm">
                                        Destinasi utama jam tangan mewah dan berkualitas original.
                                    </p>
                                </div>
                                <div>
                                    <h3 className="text-sm font-semibold text-amber-500 tracking-wider uppercase mb-4">Ikuti Kami</h3>
                                    <div className="flex space-x-4">
                                        <a href="#" className="text-slate-400 hover:text-white transition"><Icons.Instagram className="h-6 w-6" /></a>
                                        <a href="#" className="text-slate-400 hover:text-white transition"><Icons.Facebook className="h-6 w-6" /></a>
                                        <a href="#" className="text-slate-400 hover:text-white transition"><Icons.Twitter className="h-6 w-6" /></a>
                                    </div>
                                </div>
                            </div>
                            <div className="mt-8 border-t border-slate-800 pt-8 text-center text-slate-500 text-sm">
                                &copy; 2024 Watcholic Indonesia. All rights reserved.
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        // Render Aplikasi
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WatcholicApp />);
    </script>
</body>
</html>